

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Data Pipeline Configuration &#8212; BIPO Demand Forecasting v1.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data-pipeline-configuration';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Training Pipeline" href="training-pipeline.html" />
    <link rel="prev" title="Data Pipeline" href="data-pipeline.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">BIPO Demand Forecasting v1.0.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Project Overview</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-deployment-env-setup.html">Deployment Environment Setup - Inference Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="training-deployment-env-setup.html">Deployment Environment Setup - Training Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Pipeline</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kedro-overview.html">Overview of Kedro (v0.18.11)</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-pipeline.html">Data Pipeline</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data Pipeline Configuration</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Training</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="training-pipeline.html">Training Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment-tracking.html">Experiment Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments-archive.html">Archive of Model Experiments</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Serving</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-endpoint.html">Model Serving Endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference-module.html">Inference Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Supplementary Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit-tests.html">Unit Tests</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="modules.html">src</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="bipo.html">bipo package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="bipo.pipelines.html">bipo.pipelines package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_loader.html">bipo.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_merge.html">bipo.pipelines.data_merge package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_preprocessing.html">bipo.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_split.html">bipo.pipelines.data_split package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.feature_engineering.html">bipo.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_evaluation.html">bipo.pipelines.model_evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_specific_preprocessing.html">bipo.pipelines.model_specific_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_training.html">bipo.pipelines.model_training package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.time_agnostic_feature_engineering.html">bipo.pipelines.time_agnostic_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="bipo_fastapi.html">bipo_fastapi package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="bipo_fastapi.v1.html">bipo_fastapi.v1 package</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="tests.html">tests package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="tests.pipelines.html">tests.pipelines package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_loader.html">tests.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_merge.html">tests.pipelines.data_merge package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_preprocessing.html">tests.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_split.html">tests.pipelines.data_split package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.feature_engineering.html">tests.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.model_evaluation.html">tests.pipelines.model_evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.model_specific_preprocessing.html">tests.pipelines.model_specific_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.model_training.html">tests.pipelines.model_training package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.time_agnostic_feature_engineering.html">tests.pipelines.time_agnostic_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/data-pipeline-configuration.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Pipeline Configuration</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#location-of-configuration-files">Location of Configuration Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-parameters-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-loader">Data Loader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-merge-configurations">Data Merge Configurations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-agnostic-feature-engineering">Time Agnostic Feature Engineering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-adstock-features">Additional Feature Engineering: <em>Adstock features</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dependent-feature-engineering">Time-Dependent Feature Engineering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-lag-features-generation">Additional Feature Engineering: <em>Lag Features Generation</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-tsfresh">Additional Feature Engineering: <em>tsfresh</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-specific-preprocessing-module">Model Specific Preprocessing Module</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-constants-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-loader">Default Configurations for Data Loader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-preprocessing">Default Configurations for Data Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-split">Default Configurations for Data Split</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-data-split-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-split-under-simple-split">Simple Split (under <code class="docutils literal notranslate"><span class="pre">simple_split</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sliding-window-split-under-sliding-window">Sliding Window Split (under <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expanding-window-split-under-expanding-window">Expanding Window Split (under <code class="docutils literal notranslate"><span class="pre">expanding_window</span></code>)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#executing-the-data-pipeline-on-a-docker-container-windows-only">Executing the Data Pipeline on a Docker Container (Windows only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pushing-docker-image-to-a-preferred-registry">Pushing Docker image to a preferred registry</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#usage-of-run-data-pipeline-bat">Usage of <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-run-data-pipeline-bat">Running <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging">Logging</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#successful-start-of-kedro-pipeline-run">Successful start of Kedro pipeline run</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#successful-completion-of-kedro-pipeline-run">Successful completion of Kedro pipeline run</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="data-pipeline-configuration">
<h1>Data Pipeline Configuration<a class="headerlink" href="#data-pipeline-configuration" title="Permalink to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>This section contains information on key parameters from the files <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code>, <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> from <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> directory as well as yml files in <code class="docutils literal notranslate"><span class="pre">conf/base/parameters/</span></code> subdirectory, namely  <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> file. Due to the volume of parameters, we will only include a selection for illustrative purposes. These files can be found in <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> directory.</p>
<section id="location-of-configuration-files">
<h3>Location of Configuration Files<a class="headerlink" href="#location-of-configuration-files" title="Permalink to this heading">#</a></h3>
<p>There are two separate directories containing .yml files, namely in <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> and <code class="docutils literal notranslate"><span class="pre">conf/base/parameters</span></code>. Those placed in <code class="docutils literal notranslate"><span class="pre">conf/base</span></code> are primarily shared across different Kedro pipelines, to facilitate single configuration entrypoint that can be used across the entire pipeline. On the other hand, files located in <code class="docutils literal notranslate"><span class="pre">conf/base/parameters</span></code> are identified by its module name naming convention (e.g. <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code>) and govern the configuration for a specific pipeline, so as to facilitate experimentation of configuration values.</p>
</section>
</section>
<section id="key-parameters-in-parameters-yml">
<h2>Key Parameters in <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code><a class="headerlink" href="#key-parameters-in-parameters-yml" title="Permalink to this heading">#</a></h2>
<p>This sub-section outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> configuration file that control different aspects of the data pipeline. The file is divided into several sections, each dealing with a specific part of the pipeline.</p>
<section id="data-loader">
<h3>Data Loader<a class="headerlink" href="#data-loader" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Not applicable</p></li>
</ul>
</section>
<section id="data-preprocessing">
<h3>Data Preprocessing<a class="headerlink" href="#data-preprocessing" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">start_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Data start in <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span></code> format.</p></td>
<td><p>‘2021-01-01’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">end_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Data end in <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span></code> format.</p></td>
<td><p>‘2022-12-31’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zero_val_threshold_perc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Percentage of zeroed-values allowed (0 to 100 only).</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">outlets_exclusion_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of outlets (costcentercode) represented in strings to be excluded. Ideally should be the values found in data. <br /> Example: [‘201’, ‘202’]</p></td>
<td><p>[ ]</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="data-merge-configurations">
<h3>Data Merge Configurations<a class="headerlink" href="#data-merge-configurations" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Not applicable</p></li>
</ul>
</section>
<section id="time-agnostic-feature-engineering">
<h3>Time Agnostic Feature Engineering<a class="headerlink" href="#time-agnostic-feature-engineering" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_columns_to_drop_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Columns to be dropped after time-agnostic feature engineering is completed. It is advised to refer to the data artefacts generated after data merge module as it would indicate the columns available to be considered for necessary feature engineering (except index itself).</p></td>
<td><p>[‘day’, ‘location’, ‘manhours’, ‘outlet’, ‘highest_30_min_rainfall_mm’, ‘highest_60_min_rainfall_mm’, ‘highest_120_min_rainfall_mm’, ‘mean_temperature_c’, ‘min_temperature_c’, ‘mean_wind_speed_kmh’, ‘max_wind_speed_kmh’, ‘school_holiday_type’, ‘public_holiday_type’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_mkt_column_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column name for marketing-related features.</p></td>
<td><p>‘name’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkt_columns_to_impute_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing marketing features representing daily cost and values used for imputation. This is targeted towards dates where there are no marketing events.</p></td>
<td><p>{‘tv_ad_daily_cost’: 0, ‘radio_ad_daily_cost’: 0, ‘instagram_ad_daily_cost’: 0, ‘facebook_ad_daily_cost’: 0, ‘youtube_ad_daily_cost’: 0, ‘poster_campaign_daily_cost’: 0, ‘digital_daily_cost’: 0}</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach_source</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Source of data split to be used for feature engineering processes and beyond. Either <code class="docutils literal notranslate"><span class="pre">simple_split</span></code>, <code class="docutils literal notranslate"><span class="pre">expanding_window</span></code> or <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code>.</p></td>
<td><p>‘simple_split’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_rainfall_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column representing daily total rainfall for the purpose of generating boolean indicator <code class="docutils literal notranslate"><span class="pre">is_raining</span></code> feature. <br /><br /><strong>Condition is hardcoded based on assuming values exceeding 0.2 indicates a rainy day.</strong></p></td>
<td><p>‘daily_rainfall_total_mm’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_holiday_column_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Columns referencing school and public holiday columns for the purpose of generating boolean indicator feature prefixed with <code class="docutils literal notranslate"><span class="pre">is_</span></code>. <br /><br /> <strong>Condition is hardcoded based on assuming entries of the column as indication of non-holiday, Otherwise it indicates holiday.</strong></p></td>
<td><p>[‘school_holiday’, ‘public_holiday’]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_pandemic_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column representing pandemic restrictions imposed in terms of group size amount for generating a boolean indicator feature <code class="docutils literal notranslate"><span class="pre">is_pandemic_restrictions</span></code>. <br /><br /><strong>Condition is hardcoded by checking if values = ‘no limit’ and setting to 0. Otherwise set to 1 to indicate restrictions.</strong></p></td>
<td><p>‘group_size_cap’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_diff_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">of</span> <span class="pre">list</span></code></p></td>
<td><p>List of paired features in a inner list used for value differencing purposes. Generalisable to the format of [[…,…], […,…], …]. <br /> Example setting the value to <code class="docutils literal notranslate"><span class="pre">[[&quot;minimum_temperature_c&quot;,&quot;maximum_temperature_c&quot;]]</span></code> indicates that feature differencing by <code class="docutils literal notranslate"><span class="pre">maximum_temperature_c</span></code> - <code class="docutils literal notranslate"><span class="pre">minimum_temperature_c</span></code> is to be implemented.</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="additional-feature-engineering-adstock-features">
<h3>Additional Feature Engineering: <em>Adstock features</em><a class="headerlink" href="#additional-feature-engineering-adstock-features" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include_adstock</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if adstock features should be included in feature engineering pipeline process. If set to True, adstock features will be generated, and the user should include all marketing cost features in the <code class="docutils literal notranslate"><span class="pre">fe_columns_to_drop_list</span></code> to prevent correlated features from being input into the model. If False, the parameters below do not apply.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">adstock_value_threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Percentage of adstock value on the last campaign date to be used as the cut-off value, for stopping the generation of adstock values beyond the campaign duration.</p></td>
<td><p>0.05</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">adstock_days_threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of days beyond the campaign duration to be used as the cut-off value, for stopping the generation of adstock values beyond the campaign duration.</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tv_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for tv_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">radio_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for radio_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">instagram_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for instagram_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">facebook_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for facebook_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">youtube_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for youtube_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">poster_campaign_ad_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for poster_campaign_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">digital_lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Lag weight for digital_ad</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkt_channel_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of marketing cost features (represented with <code class="docutils literal notranslate"><span class="pre">daily_cost</span></code> suffix).</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['tv_ad_daily_cost',</span> <span class="pre">'radio_ad_daily_cost',</span> <span class="pre">'instagram_ad_daily_cost',</span> <span class="pre">'facebook_ad_daily_cost',</span> <span class="pre">'youtube_ad_daily_cost','poster_campaign_daily_cost',</span> <span class="pre">'digital_daily_cost']</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="time-dependent-feature-engineering">
<h3>Time-Dependent Feature Engineering<a class="headerlink" href="#time-dependent-feature-engineering" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_target_feature_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Target feature of interest (predicted feature). Primarily referenced by <em>tsfresh</em> feature engineering.</p></td>
<td><p>‘proxyrevenue’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_ordinal_encoding_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing columns to be ordinal encoded as key a list of labels as values. Simple example <code class="docutils literal notranslate"><span class="pre">{&quot;type&quot;</span> <span class="pre">:</span> <span class="pre">[&quot;carry-out&quot;,&quot;dine-in&quot;]}</span></code>.</p></td>
<td><p>{}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_one_hot_encoding_col_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns to be one-hot encoded. Example <code class="docutils literal notranslate"><span class="pre">[&quot;type&quot;]</span></code>.</p></td>
<td><p>[‘type’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">binning_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing columns to be binned (equal frequncy binning) as keys and bin labels list as values.</p></td>
<td><p>{ “proxyrevenue” : [‘Low’, ‘Medium’, ‘High’, ‘Exceptional’] }</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_std_norm_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns required for either standardisation or normalisation.</p></td>
<td><p>[ ]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">include_lags_columns_for_std_norm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control which determines if standardisation/normalization is to be applied for lag features/columns in the dataset.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">normalization_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Specified normalization approach to use: either <code class="docutils literal notranslate"><span class="pre">normalize</span></code> or <code class="docutils literal notranslate"><span class="pre">standardize</span></code>. Any other values would be defaulted back to <code class="docutils literal notranslate"><span class="pre">normalize</span></code>.</p></td>
<td><p>‘standardize’</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="additional-feature-engineering-lag-features-generation">
<h3>Additional Feature Engineering: <em>Lag Features Generation</em><a class="headerlink" href="#additional-feature-engineering-lag-features-generation" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_create_lag_features</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns which lag features should be created. Parameters for lag generation are controlled in the next 5 parameters below.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['proxyrevenue']</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lag_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of lag periods (integers) to generate. This takes into consideration of based on the difference in number of days from the last date of predictions to be made and available data, as per <code class="docutils literal notranslate"><span class="pre">sma_tsfresh_shift_period</span></code> description.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[9,</span> <span class="pre">14]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sma_window_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of window size for simple moving average aggregation.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[7]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lag_week_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of lag periods in terms of weeks to be applied to when weekly average is calculated.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sma_tsfresh_shift_period</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Shared <em>Tsfresh</em> and <em>simple moving average</em> shift periods for the purpose of alignment in shift period. Based on the difference in number of days from the last date of predictions to be made and available data. <br/>Example, on 18th of a month prediction, for 20 to 26th is to be made, while data is only available up to 17th. Hence, there is a 9 days difference which a shift needs to be applied. In view of this, the training process needs to account for such consideration when inference is to be made.</p></td>
<td><p>9</p></td>
</tr>
</tbody>
</table>
</section>
<section id="additional-feature-engineering-tsfresh">
<h3>Additional Feature Engineering: <em>tsfresh</em><a class="headerlink" href="#additional-feature-engineering-tsfresh" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include_tsfresh</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if <em>tsfresh</em> should be included in feature engineering pipeline process. If False, the parameters below do not apply.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_num_features</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of derived <em>tsfresh</em> features to use based on a derived list of tsfresh’s combined_relevance_tables containing list of tsfresh features for each outlet that satisfies the <code class="docutils literal notranslate"><span class="pre">tsfresh_n_significant</span></code>, based on mean aggregated p-values sorted in ascending order.</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_days_per_group</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Timeshift for <em>tsfresh</em> rolling time series’ min/max timeshift parameter. Related to <code class="docutils literal notranslate"><span class="pre">tsfresh_features_list</span></code>.</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_target_feature</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Predicted feature to be referenced when applying <em>tsfresh</em> feature engineering.</p></td>
<td><p>‘binned_proxyrevenue’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_features_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Numeric target feature used for <em>tsfresh</em> rolling time series which creates subwindows. <br /><br /> Think of it as shifting a cut-out window over your sorted time series data: on each shift step you extract the data you see through your cut-out window to build a new, smaller time series and extract features only on this one. Then you continue shifting. More in https://tsfresh.readthedocs.io/en/latest/api/tsfresh.utilities.html.</p></td>
<td><p>[‘proxyrevenue’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_n_significant</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Threshold determining which features should be statistically significant predictors for categorical target feature to be regarded as relevant. <br /><br /> Example, if there are X target categories for prediction, set this value to be &lt;= X</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="model-specific-preprocessing-module">
<h3>Model Specific Preprocessing Module<a class="headerlink" href="#model-specific-preprocessing-module" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">target_column_for_modeling</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column to serve as predicted model</p></td>
<td><p>‘binned_proxyrevenue’</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="key-parameters-in-constants-yml">
<h2>Key Parameters in <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code><a class="headerlink" href="#key-parameters-in-constants-yml" title="Permalink to this heading">#</a></h2>
<p>This sub-section outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> configuration file. The file is organised into multiple sections to cater to different modules of the data pipeline.</p>
<p>This file has two intended purposes:</p>
<ol class="arabic simple">
<li><p>Configured values serve as a fallback for invalid parameters set in <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> or required parameters that are missing. Note that not all parameters are covered in this <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code>, as it is not feasible to make assumptions on valid values for some parameters.</p></li>
<li><p>Storage of global constants which are shared.</p></li>
</ol>
<section id="default-configurations-for-data-loader">
<h3>Default Configurations for Data Loader<a class="headerlink" href="#default-configurations-for-data-loader" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_date_col</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column to reference date column based on provided data. It is assumed that such column are represented with a single universal identifier.</p></td>
<td><p>‘Date’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_propensity_factor_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for propensity factor feature.</p></td>
<td><p>‘Factor’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_channels_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing channels.</p></td>
<td><p>‘Mode’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_cost_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing channels total cost for each marketing campaign.</p></td>
<td><p>‘Total Cost’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_name_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing campaigns name.</p></td>
<td><p>‘Name’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_date_start_end_columns</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Default columns for marketing’s start and end dates.</p></td>
<td><p>[‘Date Start’, ‘Date End’]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_outlet_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for outlet (aka cost centre codes).</p></td>
<td><p>‘CostCentreCode’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_construct_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Columns used to construct date feature for different datasets.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">weather_data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Date related column from weather data used for construction ‘Date’ feature in the format of <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code> format.</p></td>
<td><p>[“Year”, “Month”, “Day”]</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">marketing_data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Start and end dates for marketing data.</p></td>
<td><p>[“Date Start”, “Date End”]</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="default-configurations-for-data-preprocessing">
<h3>Default Configurations for Data Preprocessing<a class="headerlink" href="#default-configurations-for-data-preprocessing" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_start_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default start date for the dataset to be used when invalid format is provided.</p></td>
<td><p>‘2021-01-01’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_end_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default end date for the dataset to be used when invalid format is provided.</p></td>
<td><p>‘2022-12-31’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_revenue_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for outlet proxy revenue data.</p></td>
<td><p>‘proxyrevenue’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_const_value_perc_threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default constant value percentage threshold to be used when value provided is not within the range of [0,100].</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_outlets_exclusion_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Default list of outlets to be excluded. Utilised when the outlets specified to be excluded in parameters is not in a list format.</p></td>
<td><p>[ ]</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="default-configurations-for-data-split">
<h3>Default Configurations for Data Split<a class="headerlink" href="#default-configurations-for-data-split" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">data_split</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Default configurations for data split.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">training_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for training.</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">validation_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for validation.</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">testing_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for testing.</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default window stride for sliding window (in days).</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_expansion_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default window expansion size for expanding window (in days).</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">simple_split_fold_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default fold number if “simple_split” is chosen. Note that simple split only produces 1 fold in total.</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_split_fold_default</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default fold number if “sliding_window” or “expanding_window” is chosen.</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">data_split_option_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of available data split option.</p></td>
<td><p>[“simple_split”, “expanding_window”, “sliding_window”]</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">data_split_option_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default data split when invalid option is provided.</p></td>
<td><p>“simple_split”</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="key-parameters-in-data-split-yml">
<h2>Key Parameters in <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code><a class="headerlink" href="#key-parameters-in-data-split-yml" title="Permalink to this heading">#</a></h2>
<p>This subsection outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> configuration file which handles provides configurable parameters on how different splits involving <em>simple</em>, <em>sliding window</em> and <em>expanding window</em> are implemented. It is broken down into sections, each detailing a specific type of data split.</p>
<section id="simple-split-under-simple-split">
<h3>Simple Split (under <code class="docutils literal notranslate"><span class="pre">simple_split</span></code>)<a class="headerlink" href="#simple-split-under-simple-split" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days.</p></td>
<td><p>588</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days.</p></td>
<td><p>71</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days.</p></td>
<td><p>71</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Placeholder for parameters use consistency, Splitting approach name.</p></td>
<td><p>“simple_split”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS.</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="sliding-window-split-under-sliding-window">
<h3>Sliding Window Split (under <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code>)<a class="headerlink" href="#sliding-window-split-under-sliding-window" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days.</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days.</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days.</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Days to stride the window.</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for config consistency, DO NOT CHANGE THIS.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Splitting approach used</p></td>
<td><p>“sliding_window”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of folds.</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="expanding-window-split-under-expanding-window">
<h3>Expanding Window Split (under <code class="docutils literal notranslate"><span class="pre">expanding_window</span></code>)<a class="headerlink" href="#expanding-window-split-under-expanding-window" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days.</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days.</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days.</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for config consistency, DO NOT CHANGE THIS.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Days set for expanding window for each fold.</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Splitting approach used.</p></td>
<td><p>“expanding_window”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of folds required for split.</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="executing-the-data-pipeline-on-a-docker-container-windows-only">
<h2>Executing the Data Pipeline on a Docker Container (Windows only)<a class="headerlink" href="#executing-the-data-pipeline-on-a-docker-container-windows-only" title="Permalink to this heading">#</a></h2>
<p>This guide explains how to run the data pipeline using the <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code> script on a Windows OS environment. The script offers an automated and convenient way to trigger the pipeline processes. Before executing the script, please ensure that you have loaded the provided docker image on the host machine. This can be done via the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="c1"># windows powershell</span>
  <span class="n">docker</span> <span class="n">load</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">&gt;/</span><span class="mi">100</span><span class="n">E_BIPO_docker_training</span><span class="o">.</span><span class="n">tar</span>
</pre></div>
</div>
<section id="pushing-docker-image-to-a-preferred-registry">
<h3>Pushing Docker image to a preferred registry<a class="headerlink" href="#pushing-docker-image-to-a-preferred-registry" title="Permalink to this heading">#</a></h3>
<p>In the event you would need to push the Docker image to your internal registry, please rename your Docker image to the source URL of the Docker registry as the existing registry used points to <code class="docutils literal notranslate"><span class="pre">registry.aisingapore.net/100e-bipo</span></code>, which would not be accessible outside of AI Singapore. Please refer to the <a class="reference external" href="https://docs.docker.com/">Docker documentation</a> for details on the renaming procedure to facilitate push to a Docker registry.</p>
</section>
<section id="usage-of-run-data-pipeline-bat">
<h3>Usage of <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code><a class="headerlink" href="#usage-of-run-data-pipeline-bat" title="Permalink to this heading">#</a></h3>
<p>Key configurations in the file are described below. In the event that you have pushed the provided Docker image into your registry, amend only the following variables <code class="docutils literal notranslate"><span class="pre">docker_registry</span></code> and <code class="docutils literal notranslate"><span class="pre">image_name</span></code> in the script as they are related to the registry URL and image name.</p>
<p>Leave <code class="docutils literal notranslate"><span class="pre">docker_registry</span></code> variable blank if this is not applicable. The script will use the loaded Docker image for running.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@REM</span> <span class="n">Define</span> <span class="n">your</span> <span class="n">Docker</span> <span class="n">image</span> <span class="ow">and</span> <span class="n">registry</span>
<span class="nb">set</span> <span class="n">docker_registry</span><span class="o">=&lt;</span><span class="n">Url</span> <span class="n">to</span> <span class="n">docker</span> <span class="n">registry</span><span class="o">&gt;/&lt;</span><span class="n">project</span> <span class="n">folder</span><span class="o">&gt;</span>
<span class="nb">set</span> <span class="n">image_name</span><span class="o">=&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The following governs the directories to be mounted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@REM</span> <span class="n">Define</span> <span class="n">volume</span> <span class="n">variables</span> <span class="kn">from</span> <span class="nn">host</span> <span class="n">directories</span>
<span class="nb">set</span> <span class="n">DATA_DIR</span><span class="o">=</span><span class="n">data</span>
<span class="nb">set</span> <span class="n">CONF_DIR</span><span class="o">=</span><span class="n">conf</span>
<span class="nb">set</span> <span class="n">LOGS_DIR</span><span class="o">=</span><span class="n">logs</span>
</pre></div>
</div>
</section>
<section id="running-run-data-pipeline-bat">
<h3>Running <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code><a class="headerlink" href="#running-run-data-pipeline-bat" title="Permalink to this heading">#</a></h3>
<p>To initiate the pipeline:</p>
<ol class="arabic">
<li><p>Open Windows Powershell.</p></li>
<li><p>Navigate to the project root directory <code class="docutils literal notranslate"><span class="pre">bipo_demand_forecasting</span></code>.</p></li>
<li><p>Execute the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span>\<span class="n">scripts</span>\<span class="n">run_data_pipeline</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this heading">#</a></h3>
<p>Logs provide essential insights into the runtime behaviour of your pipeline, enabling effective monitoring the pipeline’s execution. Generated log files are located in <code class="docutils literal notranslate"><span class="pre">logs</span></code> folder at the project parent directory.</p>
<p>For log settings, please navigate to <code class="docutils literal notranslate"><span class="pre">conf/base/logging.yml</span></code> to customise according to your needs.</p>
<blockquote>
<div><p><strong>Note:</strong>
Do not delete this file before running the pipeline or Kedro will throw an error.</p>
</div></blockquote>
<p>The log filepath used in the yml file is a placeholder and would be created and deleted when a Kedro pipeline starts and completes its execution. Nothing important is logged to the file since a separate log file (in daily format) is generated instead. This is implemented via the script <code class="docutils literal notranslate"><span class="pre">src/bipo/hooks/SetupDailyLogsHooks.py</span></code>, serving as Kedro Hook’s mechanism which overwrites the specified logfile path with today’s date whenever a pipeline is run.</p>
<p>The following levels of logs are used in the code base:</p>
<ul class="simple">
<li><p>Info</p></li>
<li><p>Error</p></li>
<li><p>Debug (Included as log handler, unused. Intended for development purposes.)</p></li>
</ul>
<section id="successful-start-of-kedro-pipeline-run">
<h4>Successful start of Kedro pipeline run<a class="headerlink" href="#successful-start-of-kedro-pipeline-run" title="Permalink to this heading">#</a></h4>
<p>The log snippet below shows a successful start of a Kedro pipeline run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;loaded_non_proxy_revenue_partitioned_data&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">node</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Running</span> <span class="n">node</span><span class="p">:</span> <span class="n">data_preprocessing_merge_non_proxy_revenue_data</span><span class="p">:</span> <span class="n">merge_non_proxy_revenue_data</span><span class="p">([</span><span class="n">loaded_non_proxy_revenue_partitioned_data</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">merged_non_revenue_data</span><span class="p">]</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">marketing_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Using</span> <span class="n">marketing_restructured</span> <span class="k">as</span> <span class="n">base</span> <span class="n">dataframe</span><span class="o">.</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="n">merging</span> <span class="n">of</span> <span class="n">non</span> <span class="n">proxy</span> <span class="n">revenue</span> <span class="n">dataframe</span><span class="o">.</span> <span class="n">Dataframe</span> <span class="ow">is</span> <span class="n">of</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">1099</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;merged_non_revenue_data&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="mi">1</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">43</span> <span class="n">tasks</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;loaded_proxy_revenue_partitioned_data&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;parameters&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">node</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Running</span> <span class="n">node</span><span class="p">:</span> <span class="n">feature_engr_generate_lag</span><span class="p">:</span> <span class="n">generate_lag</span><span class="p">([</span><span class="n">loaded_proxy_revenue_partitioned_data</span><span class="p">,</span><span class="n">parameters</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">lag_features_partitions_dict</span><span class="p">]</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Column</span> <span class="n">specified</span> <span class="k">for</span> <span class="n">lag</span> <span class="n">generation</span> <span class="p">{</span><span class="s1">&#39;proxyrevenue&#39;</span><span class="p">}</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="successful-completion-of-kedro-pipeline-run">
<h4>Successful completion of Kedro pipeline run<a class="headerlink" href="#successful-completion-of-kedro-pipeline-run" title="Permalink to this heading">#</a></h4>
<p>The snippet below is an illustration of a successful completion of Kedro pipeline run (containing the wording <code class="docutils literal notranslate"><span class="pre">Pipeline</span> <span class="pre">execution</span> <span class="pre">completed</span> <span class="pre">successfully</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_training&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_validation&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_testing&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="mi">49</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">49</span> <span class="n">tasks</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Pipeline</span> <span class="n">execution</span> <span class="n">completed</span> <span class="n">successfully</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="data-pipeline.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data Pipeline</p>
      </div>
    </a>
    <a class="right-next"
       href="training-pipeline.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Training Pipeline</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#location-of-configuration-files">Location of Configuration Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-parameters-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-loader">Data Loader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-merge-configurations">Data Merge Configurations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-agnostic-feature-engineering">Time Agnostic Feature Engineering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-adstock-features">Additional Feature Engineering: <em>Adstock features</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-dependent-feature-engineering">Time-Dependent Feature Engineering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-lag-features-generation">Additional Feature Engineering: <em>Lag Features Generation</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-feature-engineering-tsfresh">Additional Feature Engineering: <em>tsfresh</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-specific-preprocessing-module">Model Specific Preprocessing Module</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-constants-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-loader">Default Configurations for Data Loader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-preprocessing">Default Configurations for Data Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-configurations-for-data-split">Default Configurations for Data Split</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-data-split-yml">Key Parameters in <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-split-under-simple-split">Simple Split (under <code class="docutils literal notranslate"><span class="pre">simple_split</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sliding-window-split-under-sliding-window">Sliding Window Split (under <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expanding-window-split-under-expanding-window">Expanding Window Split (under <code class="docutils literal notranslate"><span class="pre">expanding_window</span></code>)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#executing-the-data-pipeline-on-a-docker-container-windows-only">Executing the Data Pipeline on a Docker Container (Windows only)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pushing-docker-image-to-a-preferred-registry">Pushing Docker image to a preferred registry</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#usage-of-run-data-pipeline-bat">Usage of <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-run-data-pipeline-bat">Running <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging">Logging</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#successful-start-of-kedro-pipeline-run">Successful start of Kedro pipeline run</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#successful-completion-of-kedro-pipeline-run">Successful completion of Kedro pipeline run</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By AI Singapore
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, AI Singapore.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>