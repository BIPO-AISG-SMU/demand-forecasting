

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Data Pipeline Configuration &#8212; BIPO Demand Forecasting v1.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'training-pipeline-configuration';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">BIPO Demand Forecasting v1.0.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Project Overview</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-deployment-env-setup.html">Deployment Environment Setup - Inference Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="training-deployment-env-setup.html">Deployment Environment Setup - Training Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Pipeline</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kedro-overview.html">Overview of Kedro (v0.18.11)</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-pipeline.html">Data Pipeline</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Training</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="training-pipeline.html">Training Pipeline</a></li>

<li class="toctree-l1"><a class="reference internal" href="experiment-tracking.html">Experiment Tracking</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Serving</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-endpoint.html">Model Serving Endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference-module.html">Inference Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Supplementary Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="modules.html">bipo</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="bipo.html">bipo package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="bipo.pipelines.html">bipo.pipelines package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_loader.html">bipo.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_merge.html">bipo.pipelines.data_merge package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_preprocessing.html">bipo.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_split.html">bipo.pipelines.data_split package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.feature_engineering.html">bipo.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_evaluation.html">bipo.pipelines.model_evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_specific_preprocessing.html">bipo.pipelines.model_specific_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_training.html">bipo.pipelines.model_training package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.time_agnostic_feature_engineering.html">bipo.pipelines.time_agnostic_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bipo_fastapi.html">bipo_fastapi package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="tests.html">tests package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="tests.pipelines.html">tests.pipelines package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_loader.html">tests.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_preprocessing.html">tests.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.feature_engineering.html">tests.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.pre_feature_engineering.html">tests.pipelines.pre_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/training-pipeline-configuration.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Pipeline Configuration</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explanation-on-the-purpose-of-yml-files-placement-locations">Explanation on the purpose of yml files placement locations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-parameters-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> file.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#training-pipeline-configuration">Training pipeline configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-constants-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-data-split-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> File</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-execute-the-data-pipeline-windows-os-only-from-a-docker-image">How to Execute the Data Pipeline (Windows OS only) from a Docker image</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging"><strong>Logging</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="data-pipeline-configuration">
<h1>Data Pipeline Configuration<a class="headerlink" href="#data-pipeline-configuration" title="Permalink to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<hr class="docutils" />
<p>This section contains information on key parameters from the files <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code>, <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> from <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> directory as well as yml files in <code class="docutils literal notranslate"><span class="pre">conf/base/parameters/</span></code> subdirectory, namely  <code class="docutils literal notranslate"><span class="pre">model_training.yml</span></code> file. Due to the volume of parameters, we will only include a selection for illustrative purposes. These files can be found in <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> directory
<br /></p>
<section id="explanation-on-the-purpose-of-yml-files-placement-locations">
<h3>Explanation on the purpose of yml files placement locations<a class="headerlink" href="#explanation-on-the-purpose-of-yml-files-placement-locations" title="Permalink to this heading">#</a></h3>
<p>There are two separate folder placements of yml files, namely in <code class="docutils literal notranslate"><span class="pre">conf/base/</span></code> and <code class="docutils literal notranslate"><span class="pre">conf/base/parameters</span></code>. Yml files placed in conf/base is primarily shared across different Kedro pipeline modules, to facilitate single configuration entrypoint that can be used across the entire pipeline. In the other case, yml files in <code class="docutils literal notranslate"><span class="pre">conf/base/parameters</span></code> are identified by its module name naming convention (e.g <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code>) governs the configuration control for a specific pipeline module, so as to facilitate possible experimentations of values, which in our case <em>data split</em> is impacted under data pipeline.</p>
</section>
<section id="key-parameters-in-the-parameters-yml-file">
<h3>Key Parameters in the <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> file.<a class="headerlink" href="#key-parameters-in-the-parameters-yml-file" title="Permalink to this heading">#</a></h3>
<hr class="docutils" />
<p>This sub-section outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> configuration file that control different aspects of a data pipeline. The file is divided into several sections, each dealing with a specific part of the pipeline. Here’s a breakdown:
<br /></p>
</section>
<section id="training-pipeline-configuration">
<h3>Training pipeline configuration<a class="headerlink" href="#training-pipeline-configuration" title="Permalink to this heading">#</a></h3>
<p><strong>Data Loader Configurations</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p><br /></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><strong>Data Preprocessing Configurations</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">start_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Data start in <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span></code> format.</p></td>
<td><p>‘2021-01-01’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">end_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Data end in <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span></code> format.</p></td>
<td><p>‘2022-12-31’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zero_val_threshold_perc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Float</span></code></p></td>
<td><p>Percentage of zeroed-values allowed (0 to 100 only)</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">outlets_exclusion_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of outlets (costcentercode) represented in strings to be excluded. Ideally should be the values found in data. <br /> Example: [‘201’, ‘202’]</p></td>
<td><p>[ ]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Data Merge Configurations</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Feature Engineering Configurations: Time Agnostic</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_columns_to_drop_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Columns to be dropped after time-agnostic feature engineering is completed. It is advised to refer to the data artefacts generated after data merge module as it would indicate the columns available to be considered for necessary feature engineering (except index itself).</p></td>
<td><p>[‘day’, ‘location’, ‘manhours’, ‘outlet’, ‘highest_30_min_rainfall_mm’, ‘highest_60_min_rainfall_mm’, ‘highest_120_min_rainfall_mm’, ‘mean_temperature_c’, ‘min_temperature_c’, ‘mean_wind_speed_kmh’, ‘max_wind_speed_kmh’, ‘school_holiday_type’, ‘public_holiday_type’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_mkt_column_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column name for marketing-related features.</p></td>
<td><p>‘name’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mkt_columns_to_impute_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing marketing features representing daily cost and values used for imputation. This is targeted towards dates where there are no marketing events</p></td>
<td><p>{‘tv_ad_daily_cost’: 0, ‘radio_ad_daily_cost’: 0, ‘instagram_ad_daily_cost’: 0, ‘facebook_ad_daily_cost’: 0, ‘youtube_ad_daily_cost’: 0, ‘poster_campaign_daily_cost’: 0, ‘digital_daily_cost’: 0}</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach_source</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Source of data split to be used for feature engineering processes and beyond. Either <code class="docutils literal notranslate"><span class="pre">simple_split</span></code>, <code class="docutils literal notranslate"><span class="pre">expanding_window</span></code> or <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code></p></td>
<td><p>‘simple_split’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_rainfall_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column representing daily total rainfall for the purpose of generating boolean indicator <code class="docutils literal notranslate"><span class="pre">is_raining</span></code> feature. <br /><br /><strong>Condition is hardcoded based on assuming values exceeding 0.2 indicates a rainy day.</strong></p></td>
<td><p>‘daily_rainfall_total_mm’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_holiday_column_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Columns referencing school and public holiday columns for the purpose of generating boolean indicator feature prefixed with <code class="docutils literal notranslate"><span class="pre">is_</span></code>. <br /><br /> <strong>Condition is hardcoded based on assuming entries of the column as indication of non-holiday, Otherwise it indicates holiday.</strong></p></td>
<td><p>[‘school_holiday’, ‘public_holiday’]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_pandemic_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Column representing pandemic restrictions imposed in terms of group size amount for generating a boolean indicator feature <code class="docutils literal notranslate"><span class="pre">is_pandemic_restrictions</span></code>. <br /><br /><strong>Condition is hardcoded by checking if values = ‘no limit’ and setting to 0. Otherwise set to 1 to indicate restrictions.</strong></p></td>
<td><p>‘group_size_cap’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_diff_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">of</span> <span class="pre">list</span></code></p></td>
<td><p>List of paired features in a inner list used for value differencing purposes. Generalisable to the format of [[…,…], […,…], …]. New feature would <br /> Example setting the value to <code class="docutils literal notranslate"><span class="pre">[[&quot;minimum_temperature_c&quot;,&quot;maximum_temperature_c&quot;]]</span></code> indicates that feature differencing by <code class="docutils literal notranslate"><span class="pre">maximum_temperature_c</span></code> - <code class="docutils literal notranslate"><span class="pre">minimum_temperature_c</span></code> is to be implemented.</p></td>
<td><p>[[ ]]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Time-Dependent Feature Engineering</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_target_feature_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Target feature of interest (predicted feature). Primarily referenced by <em>tsfresh</em> and <em>LightweightMMMM</em> feature engineering.</p></td>
<td><p>‘proxyrevenue’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fe_ordinal_encoding_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing columns to be ordinal encoded as key a list of labels as values. Simple example <code class="docutils literal notranslate"><span class="pre">{&quot;type&quot;</span> <span class="pre">:</span> <span class="pre">[&quot;carry-out&quot;,&quot;dine-in&quot;]}</span></code></p></td>
<td><p>{}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fe_one_hot_encoding_col_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns to be one-hot encoded. Example <code class="docutils literal notranslate"><span class="pre">[&quot;type&quot;]</span></code></p></td>
<td><p>[‘type’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">binning_dict</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary containing columns to be binned (equal frequncy binning) as keys and bin labels list as values.</p></td>
<td><p>[‘Low’, ‘Medium’, ‘High’, ‘Exceptional’]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_std_norm_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns required for either standardisation or normalisation</p></td>
<td><p>[]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">include_lags_columns_for_std_norm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control which determines if standardisation/normalization is to be applied for lag features/columns in the dataset.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">normalization_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Specified normalization approach to use: either <code class="docutils literal notranslate"><span class="pre">normalize</span></code> or <code class="docutils literal notranslate"><span class="pre">standardize</span></code>. Any other values would be defaulted back to <code class="docutils literal notranslate"><span class="pre">normalize</span></code></p></td>
<td><p>‘standardize’</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Additional Feature Engineering: <em>Lag Features Generation</em></strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_create_lag_features</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of columns which lag features should be created. Parameters for lag generation are controlled in the next 5 parameters below.</p></td>
<td><p>[‘proxyrevenue’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lag_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of lag periods (integers) to generate</p></td>
<td><p>[9, 14]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sma_window_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of window size for simple moving average aggregation.</p></td>
<td><p>[7]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lag_week_periods_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of lag periods in terms of weeks to be applied to when weekly average is calculated.</p></td>
<td><p>[1, 2]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sma_tsfresh_shift_period</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Shared <em>Tsfresh</em> and <em>simple moving average</em> shift periods for the purpose of alignment in shift period. Based on the difference in number of days from the last date of predictions to be made and available data. <br /><br /> <strong>Example, on 18th of a month prediction, for 20 to 26th is to be made, while data is only available upt to 17th. Hence, there is a 9 days difference which a shift needs to be applied. In view of this, the training process needs to account for such consideration when inference is to be made.</strong></p></td>
<td><p>9</p></td>
</tr>
</tbody>
</table>
<p><strong>Additional Feature Engineering: <em>LightweightMMM</em></strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include_lightweightMMM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if lightweightMMM should be included in feature engineering pipeline process. If False, the parameters below do not apply.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lightweightmmm_num_lags</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Lags in days to be applied on lightweightmmm features are generated. Has no relation to other lag values used, based on week effect assumptions.</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lightweightmmm_adstock_normalise</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if normalization of adstock values is required.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lightweightmmm_optimise_parameters</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if <strong>optimized lightweightmmm parameters as defined in <code class="docutils literal notranslate"><span class="pre">lightweightmmm_params</span></code> should be used.</strong></p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lightweightmmm_params</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Dictionary of optimal <em>lightweightMMM</em> weights learned for <em>lightweightMMM</em> features used <code class="docutils literal notranslate"><span class="pre">['tv_ad_daily_cost',</span> <span class="pre">'radio_ad_daily_cost',</span> <span class="pre">'instagram_ad_daily_cost',</span> <span class="pre">'facebook_ad_daily_cost',</span> <span class="pre">'youtube_ad_daily_cost','poster_campaign_daily_cost',</span> <span class="pre">'digital_daily_cost']</span></code></p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">lag_weight</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Learned lag weight parameters for each marketing cost channels</p></td>
<td><p>[0.7025, 0.9560, 0.7545, 0.7484, 0.9405, 0.6504, 0.7207]</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">ad_effect_retention_rate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Learned ad effect retention rates used by carryover for each marketing cost channels</p></td>
<td><p>[0.4963, 0.6495, 0.5482, 0.5484, 0.5822, 0.6404, 0.7346]</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">peak_effect_delay</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Learned peak effect delay weights for each marketing cost channels</p></td>
<td><p>[1.2488, 5.5658, 1.9455, 1.8988, 1.8554, 1.6911, 1.8539]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mkt_channel_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of marketing cost features (represented with <code class="docutils literal notranslate"><span class="pre">daily_cost</span></code> suffix)</p></td>
<td><p>[‘tv_ad_daily_cost’, ‘radio_ad_daily_cost’, ‘instagram_ad_daily_cost’, ‘facebook_ad_daily_cost’, ‘youtube_ad_daily_cost’,’poster_campaign_daily_cost’, ‘digital_daily_cost’]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Additional Feature Engineering:<em>tsfresh</em></strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include_tsfresh</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control that determines if <em>tsfresh</em> should be included in feature engineering pipeline process. If False, the parameters below do not apply.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_num_features</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of derived <em>tsfresh</em> features to use based on a derived list of tsfresh’s combined_relevance_tables containing list of tsfresh features for each outlet that satisfies the <code class="docutils literal notranslate"><span class="pre">tsfresh_n_significant</span></code>, based on mean aggregated p-values sorted in ascending order.</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_days_per_group</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Timeshift for <em>tsfresh</em> rolling time series’ min/max timeshift parameter. Related to <code class="docutils literal notranslate"><span class="pre">tsfresh_features_list</span></code>.</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_target_feature</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Predicted feature to be referenced when applying <em>tsfresh</em> feature engineering.</p></td>
<td><p>‘binned_proxyrevenue’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_features_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Numeric target feature used for <em>tsfresh</em> rolling time series which creates subwindows. <br /><br /> Think of it as shifting a cut-out window over your sorted time series data: on each shift step you extract the data you see through your cut-out window to build a new, smaller time series and extract features only on this one. Then you continue shifting. More in https://tsfresh.readthedocs.io/en/latest/api/tsfresh.utilities.html.</p></td>
<td><p>[‘proxyrevenue’]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tsfresh_n_significant</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Threshold determining which features should be statistically significant predictors for categorical target feature to be regarded as relevant. <br /><br /> Example, if there are X target categories for prediction, set this value to be &lt;= X</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Model Preprocessing Module</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">model</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Model to use. Supported models: <code class="docutils literal notranslate"><span class="pre">ordered_model</span></code> or <code class="docutils literal notranslate"><span class="pre">ebm</span></code>.</p></td>
<td><p>‘ebm’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">target_column_for_modeling</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Target feature/columns for modeling.</p></td>
<td><p>‘binned_proxyrevenue’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drop_columns_used_for_binning_encoding</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Drop feature/columns used for binning/encoding.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">training_testing_mode</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Training or testing mode.</p></td>
<td><p>‘training’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Fold number.</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>MLflow Tracking Server</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_mlflow</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control to enable/disable MLflow usage as part of experimentation process.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">is_remote_mlflow</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Control indicating if mlflow is remote (True) or local (False).</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tracking_uri</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>URI of MLFlow.</p></td>
<td><p>‘http://10.43.130.112:5005’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">experiment_name_prefix</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Experiment name prefix to use.</p></td>
<td><p>‘bipo’</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
</section>
<section id="key-parameters-in-the-constants-yml-file">
<h3>Key Parameters in the <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> file<a class="headerlink" href="#key-parameters-in-the-constants-yml-file" title="Permalink to this heading">#</a></h3>
<hr class="docutils" />
<p>This sub-section outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> configuration file. The file is organised into multiple sections to cater to different aspects of data loading, preprocessing purposes.</p>
<p>Please note that these file is intended for 2 purposes:</p>
<ul class="simple">
<li><p><strong>Configured value serves as a fallback for invalid parameters set in <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code>. Note that not all parameters are covered in this <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code>, as it is not feasible to make assumption on valid values for some parameters</strong>; and</p></li>
<li><p><strong>Global ‘constants’ which is shared.</strong></p></li>
</ul>
<p><strong>Default Configurations for Dataloader</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_date_col</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column to reference date column based on provided data. It is assumed that such column are represented with a single universal identifier.</p></td>
<td><p>‘Date’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_propensity_factor_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for propensity factor feature.</p></td>
<td><p>‘Factor’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_channels_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing channels.</p></td>
<td><p>‘Mode’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_cost_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing channels total cost for each marketing campaign.</p></td>
<td><p>‘Total Cost’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_name_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for marketing campaigns name.</p></td>
<td><p>‘Name’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_mkt_date_start_end_columns</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Default columns for marketing’s start and end dates.</p></td>
<td><p>[‘Date Start’, ‘Date End’]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_outlet_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for outlet (aka cost centre codes).</p></td>
<td><p>‘CostCentreCode’</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns_to_construct_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Columns used to construct date feature for different datasets</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">weather_data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Date related column from weather data used for construction ‘Date’ feature in the format of <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code> format.</p></td>
<td><p>[“Year”, “Month”, “Day”]</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">marketing_data</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Start and end dates for marketing data</p></td>
<td><p>[“Date Start”, “Date End”]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Default Configurations for Data Preprocessing</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_start_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default start date for the dataset to be used when invalid format is provided.</p></td>
<td><p>‘2021-01-01’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_end_date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default end date for the dataset to be used when invalid format is provided.</p></td>
<td><p>‘2022-12-31’</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_revenue_column</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default column for outlet proxy revenue data.</p></td>
<td><p>‘proxyrevenue’</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">default_const_value_perc_threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default constant value percentage threshold to be used when value provided is not within the range of [0,100].</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_outlets_exclusion_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>Default list of outlets to be excluded. Utilised when the outlets specified to be excluded in parameters is not in a list format.</p></td>
<td><p>[ ]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Default Configurations for Data Split</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">data_split</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Default configurations for data split.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">training_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for training.</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">validation_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for validation.</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">testing_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of days allocated for testing.</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default window stride for sliding window (in days).</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_expansion_days_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default window expansion size for expanding window (in days).</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">simple_split_fold_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default fold number if “simple_split” is chosen. Note that simple split only produces 1 fold in total.</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">window_split_fold_default</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default fold number if “sliding_window” or “expanding_window” is chosen.</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">data_split_option_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of available data split option.</p></td>
<td><p>[“simple_split”, “expanding_window”, “sliding_window”]</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">data_split_option_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default data split when invalid option is provided.</p></td>
<td><p>“simple_split”</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Default Configurations for Feature Engineering</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_lightweightmmm_num_lags</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Default number of lags for <em>lightweightMMM</em></p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Default Configurations for Model Training</strong></p>
<p>The values will be used as overrides as long as one of the required parameters is missing from parameters.yml for all models concerned.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">modeling</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Root dictionary for model-specific configurations.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">valid_model_name_list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
<td><p>List of valid model names to be specified.</p></td>
<td><p>[“ebm”, “ordered_model”]</p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">model_name_default</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Default model to use when invalid model is specified in parameters.yml.</p></td>
<td><p>“ebm”</p></td>
</tr>
<tr class="row-even"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">ebm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Default parameters for EBM (Explainable Boosting Machine) model. Refer more to https://interpret.ml/docs/index.html on details.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">outer_bags</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of outer bags for EBM.</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">inner_bags</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of inner bags for EBM.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">learning_rate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>Learning rate for EBM.</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">interactions</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of interactions for EBM.</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">max_leaves</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Maximum number of leaves for EBM.</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">min_samples_leaf</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Minimum samples per leaf for EBM.</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">max_bins</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Maximum number of bins for EBM.</p></td>
<td><p>256</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Config using dictionary subsection</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>↳ <code class="docutils literal notranslate"><span class="pre">ordered_model</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
<td><p>Default parameters for Ordered Model. Refer more to https://www.statsmodels.org/dev/generated/statsmodels.miscmodels.ordinal_model.OrderedModel.html.</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">const_col_artefacts_path</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Path for constant column artefacts.</p></td>
<td><p>“data/06_model_specific_preprocessing/ordered_model.pkl”</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">distr</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Distribution type for Ordered Model.</p></td>
<td><p>“probit”</p></td>
</tr>
<tr class="row-odd"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">method</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Optimization method for Ordered Model.</p></td>
<td><p>“bfgs”</p></td>
</tr>
<tr class="row-even"><td><p>↳↳ <code class="docutils literal notranslate"><span class="pre">max_iter</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Maximum iterations for Ordered Model.</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
</section>
<section id="key-parameters-in-the-data-split-yml-file">
<h3>Key Parameters in the <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> File<a class="headerlink" href="#key-parameters-in-the-data-split-yml-file" title="Permalink to this heading">#</a></h3>
<p>This sub-section outlines the key parameters in the <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> configuration file which handles provides configurable parameters on how different splits involving <em>simple</em>, <em>sliding window</em> and <em>expanding window</em> are implemented. It is broken down into sections, each detailing a specific type of data split.</p>
<p><strong>Simple Split Configuration (under <code class="docutils literal notranslate"><span class="pre">simple_split</span></code> key)</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days</p></td>
<td><p>588</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days</p></td>
<td><p>71</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days</p></td>
<td><p>71</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Placeholder for parameters use consistency, Splitting approach name</p></td>
<td><p>“simple_split”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for parameters use consistency, DO NOT CHANGE THIS</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Sliding Window Configuration (under <code class="docutils literal notranslate"><span class="pre">sliding_window</span></code> key)</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Days to stride the window</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for config consistency, DO NOT CHANGE THIS</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Splitting approach used</p></td>
<td><p>“sliding_window”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of folds</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
<p><strong>Expanding Window Configuration</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">training_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of training days</p></td>
<td><p>365</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">testing_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of testing days</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">validation_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of validation days</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">window_sliding_stride_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Placeholder for config consistency, DO NOT CHANGE THIS</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">window_expansion_days</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Days set for expanding window for each fold</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split_approach</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Splitting approach used</p></td>
<td><p>“expanding_window”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">folds</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>Number of folds required for split</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<br />
</section>
</section>
<section id="how-to-execute-the-data-pipeline-windows-os-only-from-a-docker-image">
<h2>How to Execute the Data Pipeline (Windows OS only) from a Docker image<a class="headerlink" href="#how-to-execute-the-data-pipeline-windows-os-only-from-a-docker-image" title="Permalink to this heading">#</a></h2>
<p>This guide explains how to operate your data pipeline using the <code class="docutils literal notranslate"><span class="pre">run_data_pipeline.bat</span></code> script on a Windows OS environment. The script offers an automated and convenient way to trigger the pipeline processes. Before executing the script, please ensure that you have loaded the provided docker image on the host machine. This can be done via the following command:</p>
<div class="highlight-cmd notranslate"><div class="highlight"><pre><span></span>  # windows powershell
  docker load -i &lt;path/to&gt;/100E_BIPO_docker_training.tar
</pre></div>
</div>
<p><strong>Notes for pushing docker image to preferred docker registry</strong>
In the event you would need to push the docker image to your internal docker registry , please rename your docker image to the source url of the docker registry as the existing docker registry used points to registry.aisingapore.net/100e-bipo, which would not be accessible outside of AI Singapore. Please refer to https://docs.docker.com/ for more details on the renaming procedure to facilitate push to docker image registry.</p>
<p><strong>Notes for usage of script</strong>
Key configurations in the bat file is described in the following snippet below. In the event that you have pushed the provided docker image into your repository, please amend only the following variables <code class="docutils literal notranslate"><span class="pre">docker_registry</span></code> and <code class="docutils literal notranslate"><span class="pre">image_name</span></code> in the script as they are related to docker registry url and image name.</p>
<p>Please leave <code class="docutils literal notranslate"><span class="pre">docker_registry</span></code> variable blank if this is not applicable. The script would just use loaded docker image for running.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@REM</span> <span class="n">Define</span> <span class="n">your</span> <span class="n">Docker</span> <span class="n">image</span> <span class="ow">and</span> <span class="n">registry</span>
<span class="nb">set</span> <span class="n">docker_registry</span><span class="o">=&lt;</span><span class="n">Url</span> <span class="n">to</span> <span class="n">docker</span> <span class="n">registry</span><span class="o">&gt;/&lt;</span><span class="n">project</span> <span class="n">folder</span><span class="o">&gt;</span>
<span class="nb">set</span> <span class="n">image_name</span><span class="o">=&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The following governs the directory to be mounted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@REM</span> <span class="n">Define</span> <span class="n">volume</span> <span class="n">variables</span> <span class="kn">from</span> <span class="nn">host</span> <span class="n">directories</span>
<span class="nb">set</span> <span class="n">DATA_DIR</span><span class="o">=</span><span class="n">data</span>
<span class="nb">set</span> <span class="n">CONF_DIR</span><span class="o">=</span><span class="n">conf</span>
<span class="nb">set</span> <span class="n">LOGS_DIR</span><span class="o">=</span><span class="n">logs</span>
</pre></div>
</div>
<p><strong>Running the Script</strong></p>
<p>To initiate the pipeline, proceed as follows:</p>
<ol class="arabic simple">
<li><p><strong>Navigate to the Project Directory</strong>: Ensure you’re in the root directory <code class="docutils literal notranslate"><span class="pre">bipo_demand_forecasting</span></code>.</p></li>
<li><p><strong>Execute the Script</strong>:</p></li>
</ol>
<p><strong>Windows powershell</strong>: Open a Command Prompt in the project directory and execute the following command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```cmd
# windows powershell
.\scripts\run_data_pipeline.bat
```
</pre></div>
</div>
<p>Upon successful execution of the script, the pipeline starts its execution.</p>
<section id="logging">
<h3><strong>Logging</strong><a class="headerlink" href="#logging" title="Permalink to this heading">#</a></h3>
<p>Logs provide essential insights into the runtime behaviour of your pipeline, enabling effective monitoring the pipeline’s execution. Generated log files are located in <code class="docutils literal notranslate"><span class="pre">logs</span></code> folder at the project parent directory.</p>
<p>For log settings, please navigate to <code class="docutils literal notranslate"><span class="pre">conf/base/logging.yml</span></code> to customise according to your needs.</p>
<p><strong>Notes:</strong></p>
<ul class="simple">
<li><p>Do no delete this file before running the pipeline, otherwise Kedro would throw an error.</p></li>
<li><p>The log filepath used in the yml file is just a placeholder and would be created and deleted when Kedro pipeline execution starts and completes its execution. There is nothing important that would be logged to the file since, a separate log file (in daily format) is generated to log instead. This is implemented via the script <code class="docutils literal notranslate"><span class="pre">src/bipo/hooks/SetupDailyLogsHooks.py</span></code> serving as Kedro Hook’s mechanism which overwrites the specified logfile path with today’s date whenever a pipeline is run.</p></li>
</ul>
<p>The following levels of logs are used in the codebase as follows:</p>
<ul class="simple">
<li><p>Info</p></li>
<li><p>Error</p></li>
<li><p>Debug (Included as log handler, unused. Intended for development purposes.)</p></li>
</ul>
<p>** Successful start of Kedro pipeline run **
Snippet below is an illustration of a successful start of Kedro pipeline run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;loaded_non_proxy_revenue_partitioned_data&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">node</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Running</span> <span class="n">node</span><span class="p">:</span> <span class="n">data_preprocessing_merge_non_proxy_revenue_data</span><span class="p">:</span> <span class="n">merge_non_proxy_revenue_data</span><span class="p">([</span><span class="n">loaded_non_proxy_revenue_partitioned_data</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">merged_non_revenue_data</span><span class="p">]</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">marketing_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Using</span> <span class="n">marketing_restructured</span> <span class="k">as</span> <span class="n">base</span> <span class="n">dataframe</span><span class="o">.</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">merged_unique_daily_records</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">propensity_restructured</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Preparing</span> <span class="n">merge</span> <span class="k">with</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Merged</span> <span class="n">partition</span><span class="p">:</span> <span class="n">weather_restructured</span> <span class="n">to</span> <span class="n">existing</span> <span class="n">dataframe</span><span class="o">.</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="n">merging</span> <span class="n">of</span> <span class="n">non</span> <span class="n">proxy</span> <span class="n">revenue</span> <span class="n">dataframe</span><span class="o">.</span> <span class="n">Dataframe</span> <span class="ow">is</span> <span class="n">of</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">1099</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>

<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;merged_non_revenue_data&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="mi">1</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">43</span> <span class="n">tasks</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;loaded_proxy_revenue_partitioned_data&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Loading</span> <span class="n">data</span> <span class="kn">from</span> <span class="s1">&#39;parameters&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">node</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Running</span> <span class="n">node</span><span class="p">:</span> <span class="n">feature_engr_generate_lag</span><span class="p">:</span> <span class="n">generate_lag</span><span class="p">([</span><span class="n">loaded_proxy_revenue_partitioned_data</span><span class="p">,</span><span class="n">parameters</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">lag_features_partitions_dict</span><span class="p">]</span>
<span class="mi">18</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">08</span><span class="p">:</span><span class="mi">24</span> <span class="o">|</span> <span class="n">kedro</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Column</span> <span class="n">specified</span> <span class="k">for</span> <span class="n">lag</span> <span class="n">generation</span> <span class="p">{</span><span class="s1">&#39;proxyrevenue&#39;</span><span class="p">}</span><span class="o">...</span>
</pre></div>
</div>
<p>** Successful completion of Kedro pipeline run **
Snippet below is an illustration of a successful completion of Kedro pipeline run (containing the wording <code class="docutils literal notranslate"><span class="pre">Pipeline</span> <span class="pre">execution</span> <span class="pre">completed</span> <span class="pre">successfully</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_training&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_validation&#39;</span> <span class="p">(</span><span class="n">IncrementalDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_catalog</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Saving</span> <span class="n">data</span> <span class="n">to</span> <span class="s1">&#39;ebm.model_specific_preprocessing_testing&#39;</span> <span class="p">(</span><span class="n">MemoryDataSet</span><span class="p">)</span><span class="o">...</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Completed</span> <span class="mi">49</span> <span class="n">out</span> <span class="n">of</span> <span class="mi">49</span> <span class="n">tasks</span>
<span class="mi">25</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">2023</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span> <span class="o">|</span> <span class="n">kedro</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">sequential_runner</span> <span class="o">|</span> <span class="n">INFO</span> <span class="o">|</span> <span class="n">Pipeline</span> <span class="n">execution</span> <span class="n">completed</span> <span class="n">successfully</span><span class="o">.</span>

</pre></div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#explanation-on-the-purpose-of-yml-files-placement-locations">Explanation on the purpose of yml files placement locations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-parameters-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> file.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#training-pipeline-configuration">Training pipeline configuration</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-constants-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">constants.yml</span></code> file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-parameters-in-the-data-split-yml-file">Key Parameters in the <code class="docutils literal notranslate"><span class="pre">data_split.yml</span></code> File</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-execute-the-data-pipeline-windows-os-only-from-a-docker-image">How to Execute the Data Pipeline (Windows OS only) from a Docker image</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging"><strong>Logging</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By AI Singapore
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, AI Singapore.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>