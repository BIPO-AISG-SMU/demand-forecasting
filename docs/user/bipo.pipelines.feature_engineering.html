

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>bipo.pipelines.feature_engineering package &#8212; BIPO Demand Forecasting v1.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'bipo.pipelines.feature_engineering';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="bipo.pipelines.model_evaluation package" href="bipo.pipelines.model_evaluation.html" />
    <link rel="prev" title="bipo.pipelines.data_split package" href="bipo.pipelines.data_split.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    <p class="title logo__title">BIPO Demand Forecasting v1.0.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Project Overview</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-deployment-env-setup.html">Deployment Environment Setup - Inference Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="training-deployment-env-setup.html">Deployment Environment Setup - Training Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Pipeline</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="kedro-overview.html">Overview of Kedro (v0.18.11)</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-pipeline.html">Data Pipeline</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Training</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="training-pipeline.html">Training Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment-tracking.html">Experiment Tracking</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Serving</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="inference-endpoint.html">Model Serving Endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference-module.html">Inference Module</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Supplementary Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">bipo</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="bipo.html">bipo package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3 current active has-children"><a class="reference internal" href="bipo.pipelines.html">bipo.pipelines package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_loader.html">bipo.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_merge.html">bipo.pipelines.data_merge package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_preprocessing.html">bipo.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.data_split.html">bipo.pipelines.data_split package</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">bipo.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_evaluation.html">bipo.pipelines.model_evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_specific_preprocessing.html">bipo.pipelines.model_specific_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.model_training.html">bipo.pipelines.model_training package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bipo.pipelines.time_agnostic_feature_engineering.html">bipo.pipelines.time_agnostic_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bipo_fastapi.html">bipo_fastapi package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="tests.html">tests package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="tests.pipelines.html">tests.pipelines package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_loader.html">tests.pipelines.data_loader package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.data_preprocessing.html">tests.pipelines.data_preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.feature_engineering.html">tests.pipelines.feature_engineering package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tests.pipelines.pre_feature_engineering.html">tests.pipelines.pre_feature_engineering package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/bipo.pipelines.feature_engineering.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>bipo.pipelines.feature_engineering package</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.binning">bipo.pipelines.feature_engineering.binning module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_fit"><code class="docutils literal notranslate"><span class="pre">equal_freq_binning_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_transform"><code class="docutils literal notranslate"><span class="pre">equal_freq_binning_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.encoding">bipo.pipelines.feature_engineering.encoding module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_fit"><code class="docutils literal notranslate"><span class="pre">one_hot_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_transform"><code class="docutils literal notranslate"><span class="pre">one_hot_encoding_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_fit"><code class="docutils literal notranslate"><span class="pre">ordinal_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_transform"><code class="docutils literal notranslate"><span class="pre">ordinal_encoding_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.lag_feature_generation">bipo.pipelines.feature_engineering.lag_feature_generation module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_lag_weekly_avg_sales"><code class="docutils literal notranslate"><span class="pre">create_lag_weekly_avg_sales()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_simple_lags"><code class="docutils literal notranslate"><span class="pre">create_simple_lags()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_sma_lags"><code class="docutils literal notranslate"><span class="pre">create_sma_lags()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.generate_data_groups"><code class="docutils literal notranslate"><span class="pre">generate_data_groups()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.merge_fold_and_generated_lag"><code class="docutils literal notranslate"><span class="pre">merge_fold_and_generated_lag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.lightweightmmm">bipo.pipelines.feature_engineering.lightweightmmm module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.extract_mmm_params_for_folds"><code class="docutils literal notranslate"><span class="pre">extract_mmm_params_for_folds()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features"><code class="docutils literal notranslate"><span class="pre">generate_mmm_features()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features_for_outlets"><code class="docutils literal notranslate"><span class="pre">generate_mmm_features_for_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.get_fitted_parameters"><code class="docutils literal notranslate"><span class="pre">get_fitted_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.merge_mmm_features_with_fold_outlets"><code class="docutils literal notranslate"><span class="pre">merge_mmm_features_with_fold_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.process_mmm_df"><code class="docutils literal notranslate"><span class="pre">process_mmm_df()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.validate_lags"><code class="docutils literal notranslate"><span class="pre">validate_lags()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.nodes">bipo.pipelines.feature_engineering.nodes module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_fit"><code class="docutils literal notranslate"><span class="pre">apply_binning_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_transform"><code class="docutils literal notranslate"><span class="pre">apply_binning_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_fit"><code class="docutils literal notranslate"><span class="pre">apply_feature_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_transform"><code class="docutils literal notranslate"><span class="pre">apply_feature_encoding_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_fit"><code class="docutils literal notranslate"><span class="pre">apply_standard_norm_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_transform"><code class="docutils literal notranslate"><span class="pre">apply_standard_norm_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.concat_same_folds_of_outlet_data"><code class="docutils literal notranslate"><span class="pre">concat_same_folds_of_outlet_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.generate_lag"><code class="docutils literal notranslate"><span class="pre">generate_lag()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.merge_fold_and_generated_lag"><code class="docutils literal notranslate"><span class="pre">merge_fold_and_generated_lag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.pipeline">bipo.pipelines.feature_engineering.pipeline module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.pipeline.create_pipeline"><code class="docutils literal notranslate"><span class="pre">create_pipeline()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.standardize_normalize">bipo.pipelines.feature_engineering.standardize_normalize module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_fit"><code class="docutils literal notranslate"><span class="pre">standard_norm_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_transform"><code class="docutils literal notranslate"><span class="pre">standard_norm_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.tsfresh_main">bipo.pipelines.feature_engineering.tsfresh_main module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe"><code class="docutils literal notranslate"><span class="pre">TsfreshFe</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.combine_relevance_table"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.combine_relevance_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.extract_features"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.extract_features()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.generate_relevance_table"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.generate_relevance_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.process_extracted_tsfresh_features_index"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.process_extracted_tsfresh_features_index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.tsfresh_node">bipo.pipelines.feature_engineering.tsfresh_node module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.feature_engineering_by_outlet"><code class="docutils literal notranslate"><span class="pre">feature_engineering_by_outlet()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.get_common_outlet_relevant_features"><code class="docutils literal notranslate"><span class="pre">get_common_outlet_relevant_features()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.merge_tsfresh_features_with_outlets"><code class="docutils literal notranslate"><span class="pre">merge_tsfresh_features_with_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_engineering_process"><code class="docutils literal notranslate"><span class="pre">run_tsfresh_feature_engineering_process()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_selection_process"><code class="docutils literal notranslate"><span class="pre">run_tsfresh_feature_selection_process()</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-bipo.pipelines.feature_engineering">
<span id="bipo-pipelines-feature-engineering-package"></span><h1>bipo.pipelines.feature_engineering package<a class="headerlink" href="#module-bipo.pipelines.feature_engineering" title="Permalink to this heading">#</a></h1>
<p>This is a boilerplate pipeline ‘feature_engineering’
generated using Kedro 0.18.10</p>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-bipo.pipelines.feature_engineering.binning">
<span id="bipo-pipelines-feature-engineering-binning-module"></span><h2>bipo.pipelines.feature_engineering.binning module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.binning" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.binning.equal_freq_binning_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.binning.</span></span><span class="sig-name descname"><span class="pre">equal_freq_binning_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_labels_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binning_encoding_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/binning.html#equal_freq_binning_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_fit" title="Permalink to this definition">#</a></dt>
<dd><p>Function which extracts learned binning parameters on a specific column through pandas qcut approach which divides the data evenly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe to be processed.</p></li>
<li><p><strong>bin_column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – String representing column to be binned.</p></li>
<li><p><strong>bin_labels_list</strong> (<em>List</em>) – List of bin labels to use when binning.</p></li>
<li><p><strong>fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – input string for saving window splits artifacts. Same as partition_id in pipelines.py</p></li>
<li><p><strong>outlet</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – to assign the values to each outlets.</p></li>
<li><p><strong>training_testing_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Mode of operating affecting normalization process.</p></li>
<li><p><strong>binning_encoding_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>List</em><em>]</em>) – Dictionary to store learned binning parameters in a list identified by fold and outlet.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Updated dictionary with learned binning parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.binning.equal_freq_binning_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.binning.</span></span><span class="sig-name descname"><span class="pre">equal_freq_binning_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_labels_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_edges_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/binning.html#equal_freq_binning_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_transform" title="Permalink to this definition">#</a></dt>
<dd><p>Function that creates equal frequency binning on a specified column of interest with learned binning parameters using pandas qcut method to divide the data evenly into each bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe to be processed.</p></li>
<li><p><strong>bin_column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – String representing column to be binned.</p></li>
<li><p><strong>bin_labels_list</strong> (<em>List</em>) – List of bin labels to use when binning.</p></li>
<li><p><strong>training_testing_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Mode of operating affecting normalization process.</p></li>
<li><p><strong>bin_edges_list</strong> (<em>List</em>) – List of fitted binning parameters identified by fold and outlet.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe with created binned features.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.encoding">
<span id="bipo-pipelines-feature-engineering-encoding-module"></span><h2>bipo.pipelines.feature_engineering.encoding module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.encoding" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.encoding.one_hot_encoding_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.encoding.</span></span><span class="sig-name descname"><span class="pre">one_hot_encoding_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ohe_column_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ohe_encoding_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/encoding.html#one_hot_encoding_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_fit" title="Permalink to this definition">#</a></dt>
<dd><p>Function which only implements ordinal encoding transformation based on a encoding dictionary containing encodings for respective fold/outlet dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame to be processed.</p></li>
<li><p><strong>ohe_column_list</strong> (<em>List</em>) – List of columns to be one hot encoded.</p></li>
<li><p><strong>ohe_encoding_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>OneHotEncoder</em><em>]</em>) – Loaded object in dictionary by Kedro containing learned one-hot encoding using ‘&lt;fold&gt;_&lt;outlet&gt;’ as key and encoding information as value.</p></li>
<li><p><strong>fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Fold information which dataframe is processed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ordinal encoded dataframe.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.encoding.one_hot_encoding_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.encoding.</span></span><span class="sig-name descname"><span class="pre">one_hot_encoding_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ohe_encoder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/encoding.html#one_hot_encoding_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_transform" title="Permalink to this definition">#</a></dt>
<dd><p>Function which applies retrieves one-hot-encoding on a provided dictionary of one-hot-encodings based on fold-based concatenated outlet dataframe and applies a transform. This is based on the assumption that all columns provided exists in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe to be processed.</p></li>
<li><p><strong>ohe_encoder</strong> (<em>OneHotEncoder</em>) – Fitted sklearn OneHotEncoder.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe with encoded columns.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.encoding.ordinal_encoding_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.encoding.</span></span><span class="sig-name descname"><span class="pre">ordinal_encoding_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordinal_columns_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordinal_encoding_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/encoding.html#ordinal_encoding_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_fit" title="Permalink to this definition">#</a></dt>
<dd><p>Function which only implements ordinal encoding fitting to generate parameters for transform. Assumes the ordinal_columns_dict contains ordinal columns which are found in dataframe to be processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame to be processed.</p></li>
<li><p><strong>ordinal_columns_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>List</em><em>]</em>) – Dict containing keys indicating columns to be ordinal encoded and its correspondign ordinal encoding categories in a list.</p></li>
<li><p><strong>ordinal_encoding_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>OrdinalEncoder</em><em>]</em>) – Loaded object in dictionary by Kedro containing ordinal encoding by &lt;fold&gt;_&lt;outlet&gt; as key and encoding information as value.</p></li>
<li><p><strong>fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Fold information which dataframe is processed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Updated dictionary containing ordinal encoding information for specific fold and outlet.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, OrdinalEncoder]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.encoding.ordinal_encoding_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.encoding.</span></span><span class="sig-name descname"><span class="pre">ordinal_encoding_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordinal_encoder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/encoding.html#ordinal_encoding_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_transform" title="Permalink to this definition">#</a></dt>
<dd><p>Function which only implements ordinal encoding transformation based on an encoding dictionary containing encodings for respective fold-based concatenated outlet dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame to be processed.</p></li>
<li><p><strong>ordinal_encoder</strong> (<em>OrdinalEncoder</em>) – Fitted sklearn OrdinalEncoder.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ordinal encoded dataframe.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.lag_feature_generation">
<span id="bipo-pipelines-feature-engineering-lag-feature-generation-module"></span><h2>bipo.pipelines.feature_engineering.lag_feature_generation module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.lag_feature_generation" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lag_feature_generation.create_lag_weekly_avg_sales">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lag_feature_generation.</span></span><span class="sig-name descname"><span class="pre">create_lag_weekly_avg_sales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_weeks_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lag_feature_generation.html#create_lag_weekly_avg_sales"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_lag_weekly_avg_sales" title="Permalink to this definition">#</a></dt>
<dd><p>Function which constructs a groupings on a given dataset and derives the average values of the grouping determined by num_weeks_list before applying shift/lags to the generated values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.Dataframe</em>) – Dataframe to be processed with datetime as index.</p></li>
<li><p><strong>shift_period</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of days to shift dataframe which is equal to the earliest lagged number of days for inference (difference between last inference date and last provided lagged date).</p></li>
<li><p><strong>num_weeks_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – List of week values required for lag values generations.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dataframe with the moving average of weekly sales</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lag_feature_generation.create_simple_lags">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lag_feature_generation.</span></span><span class="sig-name descname"><span class="pre">create_simple_lags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag_periods_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lag_feature_generation.html#create_simple_lags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_simple_lags" title="Permalink to this definition">#</a></dt>
<dd><p>Function which generates simple lag based on a list of defined lag periods. It assumes the dataframe contains all columns required for lag feature generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Time-indexed dataframe to be processed.</p></li>
<li><p><strong>lag_periods_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – List of lags to generated.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe containing derived lagged values of all dataframe features.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lag_feature_generation.create_sma_lags">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lag_feature_generation.</span></span><span class="sig-name descname"><span class="pre">create_sma_lags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sma_window_period_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lag_feature_generation.html#create_sma_lags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_sma_lags" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a dataframe containing generated lagged simple (equal weighted)moving average parameterised by both ‘shift_period’ (lags to make) &amp; ‘sma_window_period_list’(window duration which moving average is to be calculated) of a dataframe instance of a class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame containing columns which simple moving average needs to be generated.</p></li>
<li><p><strong>shift_period</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of days to shift dataframe which is equal to the earliest lagged number of days for inference (difference between last inference date and last provided lagged date).</p></li>
<li><p><strong>sma_window_period_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – Size of window used for calculating simple moving average.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe containing derived lagged simple moving average of all dataframe features.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lag_feature_generation.generate_data_groups">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lag_feature_generation.</span></span><span class="sig-name descname"><span class="pre">generate_data_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lag_feature_generation.html#generate_data_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lag_feature_generation.generate_data_groups" title="Permalink to this definition">#</a></dt>
<dd><p>Helper function called by lag_avg_weekly_sales to generate group information for each date entry of the dataframe, starting from earlist entry. A additional column based on input new_column_name representing group number is added to the original dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – pd.DataFrame to be processed.</p></li>
<li><p><strong>new_column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Column name to use for generating group info.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Subset dataframe containing added group column. None if non-dataframe is passed or KeyError is encountered.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lag_feature_generation.merge_fold_and_generated_lag">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lag_feature_generation.</span></span><span class="sig-name descname"><span class="pre">merge_fold_and_generated_lag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fold_based_outlet_partitioned_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_lags_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lag_feature_generation.html#merge_fold_and_generated_lag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lag_feature_generation.merge_fold_and_generated_lag" title="Permalink to this definition">#</a></dt>
<dd><p>Function which merges a dictionary containing calculated outlet lagged values into a dictionary containing fold based outlet partitioned dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fold_based_outlet_partitioned_data</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em>) – Dictionary containing fold based outlet partitioned dataframes which are distinguished by fold and outlet information in the dictionary key.</p></li>
<li><p><strong>generated_lags_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em>) – PartitionedDataset dictionary containing outlet-based lagged features stored as Kedro PartitionedDataSet that is accessible via its lazy loading function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing updated dataframe with lagged features if applicable. Else return same as input.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.lightweightmmm">
<span id="bipo-pipelines-feature-engineering-lightweightmmm-module"></span><h2>bipo.pipelines.feature_engineering.lightweightmmm module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.lightweightmmm" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.extract_mmm_params_for_folds">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">extract_mmm_params_for_folds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_outlet_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#extract_mmm_params_for_folds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.extract_mmm_params_for_folds" title="Permalink to this definition">#</a></dt>
<dd><p>Function which receives fitted parameters for each training fold using a single outlet in view of common time-index and marketing values across all outlets.</p>
<p>These fitted parameters are stored into a Dictionary based on fold from training data folds, which are used to generate additional marketing features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitioned_outlet_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Kedro IncrementalDataSet dictionary containing individual outlet related features dataframe as values with filename as identifier.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary of parameters as referenced from parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing fold info as keys as well as fitted LightweightMMM artefacts in a dictionary as value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, Dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">generate_mmm_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lightweightmmm_params_artefact</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmm_lags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adstock_normalise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mkt_cost_col_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#generate_mmm_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features" title="Permalink to this definition">#</a></dt>
<dd><p>Generate lightweightmmm features for a single outlet as called by generate_mmm_features_for_outlets. This includes 2 features - adstock and carryover. This is used for inference (1 outlet), and used as a helper function in run_generate_mmm_features_pipeline during training (multiple outlets).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lightweightmmm_params_artefact</strong> (<em>Dict</em>) – Fitted parameters artefact stored as dictionary using Kedro’s  JSONDatset datatype</p></li>
<li><p><strong>outlet_df</strong> (<em>pd.DataFrame</em>) – inference dataframe</p></li>
<li><p><strong>mmm_lags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Lag periods applied for mmm feature generation</p></li>
<li><p><strong>adstock_normalise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – True to normalise adstock values. Otherwise False.</p></li>
<li><p><strong>mkt_cost_col_list</strong> (<em>List</em>) – list of marketing daily cost column names</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe containing generated lightweightmmm features</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features_for_outlets">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">generate_mmm_features_for_outlets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extracted_mmm_params_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioned_outlet_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#generate_mmm_features_for_outlets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features_for_outlets" title="Permalink to this definition">#</a></dt>
<dd><p>Generates lightweightmmm features for each single outlet from each fold. All outlets have the same marketing features, and hence only 1 dataframe will be generated for each fold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extracted_mmm_params_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Dict</em><em>]</em><em>)</em>) – Dictionary containing fold-based LightweightMMM fitted parameters artefacts</p></li>
<li><p><strong>Dict</strong><strong>[</strong><strong>str</strong> (<em>partitioned_outlet_input</em>) – Kedro IncrementalDataSet dictionary containing individual outlet related features dataframe as values with filename as identifier.</p></li>
<li><p><strong>pd.DataFrame</strong><strong>]</strong><strong>)</strong> – Kedro IncrementalDataSet dictionary containing individual outlet related features dataframe as values with filename as identifier.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary of parameters as referenced from parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary contain dictionaries of extracted lightweightMMM features by outlet.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, Dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.get_fitted_parameters">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">get_fitted_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marketing_channel_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_marketing_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weekday_seasonality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seasonality_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">365</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#get_fitted_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.get_fitted_parameters" title="Permalink to this definition">#</a></dt>
<dd><p>Function which gets fitted parameters based on training fold marketing costs and returns 3 parameters.</p>
<p>Lag_weight is extracted from fitted adstock model, while ad_effect_retention_rate and peak_effect_delay are extracted from fitted carryover model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>marketing_channel_costs</strong> (<em>ndarray</em>) – individual marketing channel daily costs</p></li>
<li><p><strong>total_marketing_costs</strong> (<em>ndarray</em>) – total cost of each marketing channel</p></li>
<li><p><strong>channel_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – list of marketing channel columns</p></li>
<li><p><strong>weekday_seasonality</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to estimate a weekday (7) parameter as per LightweightMMM definition.</p></li>
<li><p><strong>seasonality_frequency</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Frequency of the time period used. Default is 52 as in 52 weeks per year as per LightweightMMM definition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary containing parameter name as keys, and the corresponding parameters as values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.merge_mmm_features_with_fold_outlets">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">merge_mmm_features_with_fold_outlets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_outlet_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioned_mmm_input</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#merge_mmm_features_with_fold_outlets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.merge_mmm_features_with_fold_outlets" title="Permalink to this definition">#</a></dt>
<dd><p>Function which left merges a fold-based generated LightweightMMM features to each outlet based on common time-index. This is on the assumption that LightweightMMM features are applicable across all-outlets regardless of outlet types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitioned_outlet_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Dataframe partitioned by outlets from Kedro PartitionedDataSet.</p></li>
<li><p><strong>partitioned_mmm_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Generated fold-based LightweightMMM features dataframe partitioned by folds.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing merged dataframes involving both lightweightMMM features and input outlet dataframe features. Otherwise, returns partitioned_outlet_input with dataframe lazy loading function.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.process_mmm_df">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">process_mmm_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marketing_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmm_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#process_mmm_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.process_mmm_df" title="Permalink to this definition">#</a></dt>
<dd><p>process mmm dataframes which include adstock and carryover. Previous day’s adstock/carryover values are added to the current day’s daily cost to get the final daily cost which takes into account adstock/carryover effects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>marketing_df</strong> (<em>pd.DataFrame</em>) – Marketing dataframe to be processed.</p></li>
<li><p><strong>mmm_df</strong> (<em>pd.DataFrame</em>) – mmm dataframe, which is either adstock/carryover dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>processed mmm df</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.lightweightmmm.validate_lags">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.lightweightmmm.</span></span><span class="sig-name descname"><span class="pre">validate_lags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_lags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/lightweightmmm.html#validate_lags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.lightweightmmm.validate_lags" title="Permalink to this definition">#</a></dt>
<dd><p>Function which validates the input num_lags and attempts to typecast into integer. If negative value is obtained, a default value referencing constants.yml would be used. Same applies if non-numerical value is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_lags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – _description_</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Validated num_lags with corrected value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.nodes">
<span id="bipo-pipelines-feature-engineering-nodes-module"></span><h2>bipo.pipelines.feature_engineering.nodes module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.nodes" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_binning_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_binning_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_binning_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function applies binning techniques, specifically equal-frequency binning, to designated columns in the provided data partitions, updating a dictionary with learned binning parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing new/updated encoding parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, List]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_binning_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_binning_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binning_encoding_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_binning_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_transform" title="Permalink to this definition">#</a></dt>
<dd><p>This function executes the binning categorisation using a provided binning_encoding_dict containing binning related parameters, which is generated under apply_binning_fit function above.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Dictionary containing file represented by fold based partitions of a selected data split source as defined in Kedro framework.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing key-values from parameters.yml.</p></li>
<li><p><strong>binning_encoding_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary containing new/updated encoding parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing new/updated dataframe with unchanged key as per input.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_feature_encoding_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_feature_encoding_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function applies necessary encoding which includes one-hot encoding and categorical encoding. Additional encodings can be added into this function if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing new/updated encoding parameters encompassing sklearn OrdinalEncoder and OneHotEncoder. Other encodings can be included if they are implemented in this function.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_feature_encoding_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_encoding_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_feature_encoding_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_transform" title="Permalink to this definition">#</a></dt>
<dd><p>This function applies necessary encoding transform which includes both one-hot encoding and categorical encoding. Can be extended to include encoding functions if defined under apply_feature_encoding_fit function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing parameters.yml.</p></li>
<li><p><strong>feature_encoding_dict</strong> (<em>Union</em><em>[</em><em>OrdinalEncoder</em><em>, </em><em>OneHotEncoder</em><em>]</em>) – Dictionary containing new/updated encoding parameters which will be used for applying necessary transforms.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dataframe with encoded features.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_standard_norm_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_standard_norm_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_standard_norm_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function applies required standardise/normalisation fitting as configured in parameters.yml on dataframe partitions representing outlet datasets and saves them into a dictionary containing learned parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing standardisation/normalisation parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.apply_standard_norm_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">apply_standard_norm_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_norm_encoding_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#apply_standard_norm_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_transform" title="Permalink to this definition">#</a></dt>
<dd><p>This function applies preferred standardise/normalisation as configured in parameters.yml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitions_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary referencing parameters.yml.</p></li>
<li><p><strong>std_norm_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary containing new/updated sklearn StandardScaler/Normalizer parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing new/updated dataframe with unchanged key as per input.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.concat_same_folds_of_outlet_data">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">concat_same_folds_of_outlet_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_input</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#concat_same_folds_of_outlet_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.concat_same_folds_of_outlet_data" title="Permalink to this definition">#</a></dt>
<dd><p>Function that loads and concatenates vertically all outlet data belonging to the same fold together.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>partitioned_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Kedro IncrementalDataSet dictionary containing individual outlet related features dataframe as values with filename using outlet as identifier.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing concatenated fold-based outlet data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.generate_lag">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">generate_lag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_preprocessed_outlet_partitions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#generate_lag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.generate_lag" title="Permalink to this definition">#</a></dt>
<dd><p>Creates a dataframe containing generated lag values based on column_name variable representing dataframe column name according to params_dict containing lag related parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_preprocessed_outlet_partitions</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Dictionary of parameters as referenced from parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing generated dataframe with only lag columns, prefix by ‘id’ as an identifier.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.nodes.merge_fold_and_generated_lag">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.nodes.</span></span><span class="sig-name descname"><span class="pre">merge_fold_and_generated_lag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fold_based_outlet_partitioned_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_lags_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/nodes.html#merge_fold_and_generated_lag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.nodes.merge_fold_and_generated_lag" title="Permalink to this definition">#</a></dt>
<dd><p>Function which merges a dictionary containing calculated outlet lagged values into a dictionary containing fold-based outlet partitioned dataframe via left merge (left dataframe referring to fold-based outlet partitioned dataframe).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fold_based_outlet_partitioned_data</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
<li><p><strong>generated_lags_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – A dictionary with partition ids as keys and dataframe as values.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing updated dataframe with lagged features if applicable. Else, return fold_based_outlet_partitioned_data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.pipeline">
<span id="bipo-pipelines-feature-engineering-pipeline-module"></span><h2>bipo.pipelines.feature_engineering.pipeline module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.pipeline" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.pipeline.create_pipeline">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.pipeline.</span></span><span class="sig-name descname"><span class="pre">create_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/pipeline.html#create_pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.pipeline.create_pipeline" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.standardize_normalize">
<span id="bipo-pipelines-feature-engineering-standardize-normalize-module"></span><h2>bipo.pipelines.feature_engineering.standardize_normalize module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.standardize_normalize" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_fit">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.standardize_normalize.</span></span><span class="sig-name descname"><span class="pre">standard_norm_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_to_std_or_norm_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_norm_encoding_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/standardize_normalize.html#standard_norm_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_fit" title="Permalink to this definition">#</a></dt>
<dd><p>Function which applies sklearn standardscaler/normalizer fit to learn parameters required for normalization and updates a input dictionary that contains fold and outlet informations’ normalization parameters. It assumes that the col_to_std_or_norm_list contains columns which can be found in dataframe columns. Assumes col_to_std_or_norm_list is never empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe to process.</p></li>
<li><p><strong>col_to_std_or_norm_list</strong> (<em>List</em>) – List of dataframe columns which standardization is to be applied.</p></li>
<li><p><strong>std_norm_encoding_dict</strong> (<em>Dict</em>) – Dictionary that contains fold and outlet informations’ standardization/normalisation parameters which is called by nodes.py.</p></li>
<li><p><strong>fold</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – fold information which the dataframe represents.</p></li>
<li><p><strong>outlet</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – outlet information which the dataframe represents.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Updated dictionary that contains fold and outlet informations’ standardization parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_transform">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.standardize_normalize.</span></span><span class="sig-name descname"><span class="pre">standard_norm_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_norm_object</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/standardize_normalize.html#standard_norm_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_transform" title="Permalink to this definition">#</a></dt>
<dd><p>Function which utilises sklearn learned standardscaler/normalizer object ‘std_norm_object’ containing list of features for value transformation which can be found in dataframe columns assuming same dataframe is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe to process for standardisation/normalisation.</p></li>
<li><p><strong>std_norm_object</strong> (<em>Union</em><em>[</em><em>Normalizer</em><em>, </em><em>StandardScaler</em><em>]</em>) – Learned sklearn Normalizer or StandardScaler object.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Updated dataframe with normalized values in features selected.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.tsfresh_main">
<span id="bipo-pipelines-feature-engineering-tsfresh-main-module"></span><h2>bipo.pipelines.feature_engineering.tsfresh_main module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.tsfresh_main" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_main.</span></span><span class="sig-name descname"><span class="pre">TsfreshFe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_per_group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_labels_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tsfresh_features_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_significant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relevant_features_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_main.html#TsfreshFe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Auto feature engineering with tsfresh library. Engineer features for numerical features only.
- extract_features can either feature engineer all possible features or only relevant features which are predefined in a json file.
- Filter only the most important engineered features and save them into a json file so that the time taken for feature engineering can be reduced, since only relevant features are engineered.</p>
<p>The full list of possible engineered features can be found at <a class="reference external" href="https://tsfresh.readthedocs.io/en/latest/text/list_of_features.html">https://tsfresh.readthedocs.io/en/latest/text/list_of_features.html</a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.combine_relevance_table">
<span class="sig-name descname"><span class="pre">combine_relevance_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relevance_table_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_main.html#TsfreshFe.combine_relevance_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.combine_relevance_table" title="Permalink to this definition">#</a></dt>
<dd><p>get common features among all the relevance tables, aggregate the p-values by getting the lowest p-values amongst all the relevance tables. Assumes the relevance_table_list has 1 single entry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>relevance_table_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – list of relevance tables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a single combined relevance table</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.extract_features">
<span class="sig-name descname"><span class="pre">extract_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_main.html#TsfreshFe.extract_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.extract_features" title="Permalink to this definition">#</a></dt>
<dd><p>Auto feature engineering using tsfresh library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe with features generated using tsfresh</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.generate_relevance_table">
<span class="sig-name descname"><span class="pre">generate_relevance_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_main.html#TsfreshFe.generate_relevance_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.generate_relevance_table" title="Permalink to this definition">#</a></dt>
<dd><p>Create a feature relevance table for feature selection. This will speed up the time for feature engineering as only the most important features are engineered.
For every feature the influence on the target is evaluated by univariate tests and the p-Value is calculated. Afterwards the Benjamini Hochberg procedure which is a multiple testing procedure decides which features to keep and which to cut off (solely based on the p-values). Benjamini Hochberg procedure decreases the false discovery rate, as sometimes small p-values (less than 5%) happen by chance, which could lead to incorrect rejection of the true null hypotheses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>relevance table</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.process_extracted_tsfresh_features_index">
<span class="sig-name descname"><span class="pre">process_extracted_tsfresh_features_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_main.html#TsfreshFe.process_extracted_tsfresh_features_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.process_extracted_tsfresh_features_index" title="Permalink to this definition">#</a></dt>
<dd><p>Function which reformats index of output extracted_features_df due to new id creation as a result of tsfresh feature generation.</p>
<p>Example, (1, ‘ 2021-02-07’) index which is returned during tsfresh feature generation is to be converted into 2021-02-07 datetime type instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – Dataframe containing extracted features.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>processed dataframe of engineered features that have been mapped to their respective datetime indexes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bipo.pipelines.feature_engineering.tsfresh_node">
<span id="bipo-pipelines-feature-engineering-tsfresh-node-module"></span><h2>bipo.pipelines.feature_engineering.tsfresh_node module<a class="headerlink" href="#module-bipo.pipelines.feature_engineering.tsfresh_node" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_node.feature_engineering_by_outlet">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_node.</span></span><span class="sig-name descname"><span class="pre">feature_engineering_by_outlet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relevant_features_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_node.html#feature_engineering_by_outlet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_node.feature_engineering_by_outlet" title="Permalink to this definition">#</a></dt>
<dd><p>Function which executes tsfresh feature engineering by outlet, extracting only the relevant features which are unique to each fold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relevant_features_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Dict</em><em>]</em>) – Dictionary containing the relevant calculated/learned tsfresh features artefacts</p></li>
<li><p><strong>outlet_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – Kedro MemoryDataSet dictionary partitioned by outlets loaded in memory containing individual outlet dataframes.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Parameters referenced from parameters.yml.</p></li>
<li><p><strong>extracted_tsfresh_features_outlet_dict</strong> – Dict[str, pd.DataFrame]: Dictionary used for storing tsfresh_features_engineered identified by fold and outlet info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary storing outlet based generated tsfresh features in a dataframe using same outlet information as an identifier.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_node.get_common_outlet_relevant_features">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_node.</span></span><span class="sig-name descname"><span class="pre">get_common_outlet_relevant_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relevance_table_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_node.html#get_common_outlet_relevant_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_node.get_common_outlet_relevant_features" title="Permalink to this definition">#</a></dt>
<dd><p>Function which combines multiple outlets’ relevance tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relevance_table_list</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>pd.DataFrame</em><em>, </em><em>None</em><em>]</em><em>]</em>) – List of relevance tables in pd.DataFrame.</p></li>
<li><p><strong>num_features</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of top relevant features to keep based on derived sorted p-value vector from tsfresh’s Benjamini-Yekutieli procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of relevant features that is in a suitable format for tsfresh extract features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_node.merge_tsfresh_features_with_outlets">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_node.</span></span><span class="sig-name descname"><span class="pre">merge_tsfresh_features_with_outlets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_outlet_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioned_tsfresh_input</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_node.html#merge_tsfresh_features_with_outlets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_node.merge_tsfresh_features_with_outlets" title="Permalink to this definition">#</a></dt>
<dd><p>Function which left merges a outlet-based generated tsfresh features to each outlet based on common time-index. As the id used for both partitioned inputs are the same, joining can be simply made by using one of the id retreived from either of the inputs and doing a direct referencing from both dictionary keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitioned_outlet_input</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a>]) – Dict[str, pd.DataFrame]: Kedro MemoryDataSet dictionary partitioned by outlets loaded in memory containing outlet dataframes.</p></li>
<li><p><strong>partitioned_mmm_input</strong> – Dict[str, pd.DataFrame]: Kedro IncrementalDataset of dataframe representing fold-based outlets.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing merged dataframes involving both tsfresh features and input outlet dataframe features. Otherwise, returns partitioned_outlet_input with dataframe lazy loading function.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Union[Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame], Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_engineering_process">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_node.</span></span><span class="sig-name descname"><span class="pre">run_tsfresh_feature_engineering_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_tsfresh_artefacts_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partitioned_outlet_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_node.html#run_tsfresh_feature_engineering_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_engineering_process" title="Permalink to this definition">#</a></dt>
<dd><p>Function which performs tsfresh feature engineering involving tsfresh feature creation for each outlet data in each fold based on learnt tsfresh artefacts and outlet inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitioned_tsfresh_artefacts_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em><em>]</em>) – partitioned input for tsfresh relevant features json artefacts</p></li>
<li><p><strong>partitioned_outlet_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>pd.DataFrame</em>) – dictionary containing a fold_outlet as keys and outlet dataframes as values. E.g {fold1_outlet_1: outlet_1_df}</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Parameters referencing parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary which contains merged training and validation folds (E.g merged fold 1, merged fold 2 ..) as keys, which contain dictionaries of extracted tsfresh features by outlet.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_selection_process">
<span class="sig-prename descclassname"><span class="pre">bipo.pipelines.feature_engineering.tsfresh_node.</span></span><span class="sig-name descname"><span class="pre">run_tsfresh_feature_selection_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partitioned_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bipo/pipelines/feature_engineering/tsfresh_node.html#run_tsfresh_feature_selection_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_selection_process" title="Permalink to this definition">#</a></dt>
<dd><p>Function which executes tsfresh feature selection to select relevant tsfresh features on the dataset as defined by partitioned_input. These relevant features are then stored in a dictionary by fold and outlet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partitioned_input</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>,</em><em>pd.DataFrame</em><em>]</em>) – partitioned input for training fold outlet dataframe.</p></li>
<li><p><strong>params_dict</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Parameters referencing parameters.yml.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing fold-output identifier as key name and a dictionary of relevant tsfresh features as values as values. i.e dictionary of dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a>, Dict]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="bipo.pipelines.data_split.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">bipo.pipelines.data_split package</p>
      </div>
    </a>
    <a class="right-next"
       href="bipo.pipelines.model_evaluation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">bipo.pipelines.model_evaluation package</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.binning">bipo.pipelines.feature_engineering.binning module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_fit"><code class="docutils literal notranslate"><span class="pre">equal_freq_binning_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.binning.equal_freq_binning_transform"><code class="docutils literal notranslate"><span class="pre">equal_freq_binning_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.encoding">bipo.pipelines.feature_engineering.encoding module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_fit"><code class="docutils literal notranslate"><span class="pre">one_hot_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.one_hot_encoding_transform"><code class="docutils literal notranslate"><span class="pre">one_hot_encoding_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_fit"><code class="docutils literal notranslate"><span class="pre">ordinal_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.encoding.ordinal_encoding_transform"><code class="docutils literal notranslate"><span class="pre">ordinal_encoding_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.lag_feature_generation">bipo.pipelines.feature_engineering.lag_feature_generation module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_lag_weekly_avg_sales"><code class="docutils literal notranslate"><span class="pre">create_lag_weekly_avg_sales()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_simple_lags"><code class="docutils literal notranslate"><span class="pre">create_simple_lags()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.create_sma_lags"><code class="docutils literal notranslate"><span class="pre">create_sma_lags()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.generate_data_groups"><code class="docutils literal notranslate"><span class="pre">generate_data_groups()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lag_feature_generation.merge_fold_and_generated_lag"><code class="docutils literal notranslate"><span class="pre">merge_fold_and_generated_lag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.lightweightmmm">bipo.pipelines.feature_engineering.lightweightmmm module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.extract_mmm_params_for_folds"><code class="docutils literal notranslate"><span class="pre">extract_mmm_params_for_folds()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features"><code class="docutils literal notranslate"><span class="pre">generate_mmm_features()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.generate_mmm_features_for_outlets"><code class="docutils literal notranslate"><span class="pre">generate_mmm_features_for_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.get_fitted_parameters"><code class="docutils literal notranslate"><span class="pre">get_fitted_parameters()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.merge_mmm_features_with_fold_outlets"><code class="docutils literal notranslate"><span class="pre">merge_mmm_features_with_fold_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.process_mmm_df"><code class="docutils literal notranslate"><span class="pre">process_mmm_df()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.lightweightmmm.validate_lags"><code class="docutils literal notranslate"><span class="pre">validate_lags()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.nodes">bipo.pipelines.feature_engineering.nodes module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_fit"><code class="docutils literal notranslate"><span class="pre">apply_binning_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_binning_transform"><code class="docutils literal notranslate"><span class="pre">apply_binning_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_fit"><code class="docutils literal notranslate"><span class="pre">apply_feature_encoding_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_feature_encoding_transform"><code class="docutils literal notranslate"><span class="pre">apply_feature_encoding_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_fit"><code class="docutils literal notranslate"><span class="pre">apply_standard_norm_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.apply_standard_norm_transform"><code class="docutils literal notranslate"><span class="pre">apply_standard_norm_transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.concat_same_folds_of_outlet_data"><code class="docutils literal notranslate"><span class="pre">concat_same_folds_of_outlet_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.generate_lag"><code class="docutils literal notranslate"><span class="pre">generate_lag()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.nodes.merge_fold_and_generated_lag"><code class="docutils literal notranslate"><span class="pre">merge_fold_and_generated_lag()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.pipeline">bipo.pipelines.feature_engineering.pipeline module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.pipeline.create_pipeline"><code class="docutils literal notranslate"><span class="pre">create_pipeline()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.standardize_normalize">bipo.pipelines.feature_engineering.standardize_normalize module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_fit"><code class="docutils literal notranslate"><span class="pre">standard_norm_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.standardize_normalize.standard_norm_transform"><code class="docutils literal notranslate"><span class="pre">standard_norm_transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.tsfresh_main">bipo.pipelines.feature_engineering.tsfresh_main module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe"><code class="docutils literal notranslate"><span class="pre">TsfreshFe</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.combine_relevance_table"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.combine_relevance_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.extract_features"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.extract_features()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.generate_relevance_table"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.generate_relevance_table()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_main.TsfreshFe.process_extracted_tsfresh_features_index"><code class="docutils literal notranslate"><span class="pre">TsfreshFe.process_extracted_tsfresh_features_index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-bipo.pipelines.feature_engineering.tsfresh_node">bipo.pipelines.feature_engineering.tsfresh_node module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.feature_engineering_by_outlet"><code class="docutils literal notranslate"><span class="pre">feature_engineering_by_outlet()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.get_common_outlet_relevant_features"><code class="docutils literal notranslate"><span class="pre">get_common_outlet_relevant_features()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.merge_tsfresh_features_with_outlets"><code class="docutils literal notranslate"><span class="pre">merge_tsfresh_features_with_outlets()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_engineering_process"><code class="docutils literal notranslate"><span class="pre">run_tsfresh_feature_engineering_process()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bipo.pipelines.feature_engineering.tsfresh_node.run_tsfresh_feature_selection_process"><code class="docutils literal notranslate"><span class="pre">run_tsfresh_feature_selection_process()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By AI Singapore
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023, AI Singapore.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>